<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"
          controllerName="com.tw.mypr.My_custom_pr.controller.ItemDetail"
          xmlns:core="sap.ui.core"
          xmlns:cust="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
          xmlns:f="sap.ui.layout.form" xmlns:u="sap.ui.unified"
          xmlns:uxap="sap.uxap" xmlns:layout="sap.ui.layout">
    <uxap:ObjectPageLayout showFooter="{= ${ui>/editing} }" upperCaseAnchorBar="false"
                           showTitleInHeaderContent="false"
                           showHeaderContent="{= !${ui>/editing} }">
        <uxap:headerTitle>
            <uxap:ObjectPageHeader headerDesign="Light"
                                   objectTitle="{PRItem>/Material}"
                                   objectSubtitle="{PRItem>/ItemDescription}"
                                   objectImageShape="Square"
                                   objectImageURI="./images/PurchaseReqn.jpg"
                                   isObjectIconAlwaysVisible="false"
                                   isObjectTitleAlwaysVisible="true"
                                   isObjectSubtitleAlwaysVisible="true"
                                   isActionAreaAlwaysVisible="true">
                <uxap:actions>
                    <uxap:ObjectPageHeaderActionButton type="Transparent" hideText="false" hideIcon="false"
                                                       press="onPressDeletePR"
                                                       importance="Medium" text="{i18n>deletePR}"/>
                    <uxap:ObjectPageHeaderActionButton type="Transparent" hideText="true" hideIcon="false"
                                                       icon="sap-icon://action"
                                                       importance="High" text="{i18n>share}"/>
                </uxap:actions>
            </uxap:ObjectPageHeader>
        </uxap:headerTitle>
        <uxap:sections>
            <uxap:ObjectPageSection titleLevel="Auto" showTitle="true" titleUppercase="false"
                                    title="{i18n>GeneralInfo}">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <f:SimpleForm id="edit_generalinfo"
                                          layout="ColumnLayout"
                                          editable="{ui>/editing}"
                                          visible="{ui>/editing}"
                                          labelSpanL="12"
                                          columnsXL="4"
                                          columnsL="3"
                                          columnsM="2">
                                <f:content>
                                    <Label text="{i18n>ItemCategory}"/>
                                    <ComboBox value="{PRItem>/PrType}">
                                        <items>
                                            <core:Item key="1" text="Standard"/>
                                            <core:Item key="2" text="Third-party"/>
                                        </items>
                                    </ComboBox>
                                    <Label text="{i18n>Plant}"/>
                                    <Input cust:VHKey="Plant" cust:text="{PRItem>/Plant}"
                                           showValueHelp="true"
                                           valueHelpRequest="onValHelpReq"
                                           value="{PRItem>/Plant}"/>
                                    <Label text="{i18n>AccAssCat}"/>
                                    <Input cust:VHKey="AccAssCat" cust:text="{PRItem>/AccAssCat}"
                                           showValueHelp="true"
                                           valueHelpRequest="onValHelpReq"
                                           value="{PRItem>/AccAssCat}"/>
                                    <Label text="{i18n>ItemDescription}"/>
                                    <Input value="{PRItem>/ItemDescription}"/>
                                    <Label text="{i18n>Material}"/>
                                    <Input cust:VHKey="Material" cust:text="{PRItem>/ItemDescription}"
                                           showValueHelp="true"
                                           valueHelpRequest="onValHelpReq" value="{PRItem>/Material}">
                                    </Input>
                                    <Label text="{i18n>MatGroup}"/>
                                    <Input value="{PRItem>/MatGroup}"/>
                                    <Label text="{i18n>SuppMatNum}"/>
                                    <Input value="{PRItem>/SuppMatNum}"/>
                                    <Label text="{i18n>desiredVendor}"/>
                                    <Input value="{PRItem>/desiredVendor}"/>
                                </f:content>
                            </f:SimpleForm>
                            <f:SimpleForm id="display_generalinfo"
                                          layout="ColumnLayout"
                                          editable="{ui>/editing}"
                                          visible="{= !${ui>/editing} }"
                                          labelSpanL="12"
                                          columnsXL="4"
                                          columnsL="3"
                                          columnsM="2">
                                <f:content>
                                    <Label text="{i18n>PRType}"/>
                                    <Text text="{PRItem>/PrType}"/>
                                    <Label text="{i18n>ItemCategory}"/>
                                    <Text text="{PRItem>/PrType}"/>
                                    <Label text="{i18n>AccAssCat}"/>
                                    <Text text="{PRItem>/AccAssCat}"/>
                                    <Label text="{i18n>ItemDescription}"/>
                                    <Text text="{PRItem>/ItemDescription}"/>
                                    <Label text="{i18n>Material}"/>
                                    <Text text="{PRItem>/Material}"/>
                                    <Label text="{i18n>MatGroup}"/>
                                    <Text text="{PRItem>/MatGroup}"/>
                                    <Label text="{i18n>SuppMatNum}"/>
                                    <Text text="{PRItem>/SuppMatNum}"/>
                                    <Label text="{i18n>desiredVendor}"/>
                                    <Text text="{PRItem>/desiredVendor}"/>
                                </f:content>
                            </f:SimpleForm>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
            <uxap:ObjectPageSection titleLevel="Auto" showTitle="true" titleUppercase="false"
                                    title="{i18n>QuantityAndDate}">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <f:SimpleForm layout="ColumnLayout"
                                          editable="{ui>/editing}"
                                          labelSpanL="12"
                                          columnsXL="4"
                                          columnsL="3"
                                          columnsM="2">
                                <f:content>
                                    <Label required="true" text="{i18n>Quantity}"/>
                                    <Input value="{PRItem>/Quantity}"/>
                                    <Label text="{i18n>OrderedQuantity}"/>
                                    <Input value="{PRItem>/OrderedQuantity}"/>
                                    <Label text="{i18n>OpenQuantity}"/>
                                    <Input value="{PRItem>/OpenQuantity}"/>
                                    <Label text="{i18n>PRItemIsClosed}"/>
                                    <Input value="{PRItem>/PRItemIsClosed}"/>
                                    <Label text="{i18n>PRItemIsFixed}"/>
                                    <CheckBox checked="{PRItem>/PRItemIsFixed}"/>
                                    <Label text="{i18n>PRItemIsFixed}"/>
                                    <CheckBox checked="{PRItem>/PRItemIsFixed}"/>
                                    <Label required="true" text="{i18n>DelivDate}"/>
                                    <DatePicker displayFormat="dd/MM/yyyy"
                                                dateValue="{PRItem>/DelivDate}"/>
                                    <Label text="{i18n>PreqDate}"/>
                                    <DatePicker displayFormat="dd/MM/yyyy" valueFormat="dd/MM/yyyy"
                                                value="{PRItem>/PreqDate}"/>
                                    <Label required="true" text="{i18n>ReleaseDate}"/>
                                    <DatePicker displayFormat="dd/MM/yyyy" valueFormat="dd/MM/yyyy"
                                                value="{PRItem>/ReleaseDate}"/>
                                    <Label required="true" text="{i18n>PlannedDelivDays}"/>
                                    <DatePicker displayFormat="dd/MM/yyyy" valueFormat="dd/MM/yyyy"
                                                value="{PRItem>/PlannedDelivDays}"/>
                                    <Label required="true" text="{i18n>GRProcessDays}"/>
                                    <DatePicker displayFormat="dd/MM/yyyy" valueFormat="dd/MM/yyyy"
                                                value="{PRItem>/GRProcessDays}"/>
                                </f:content>
                            </f:SimpleForm>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
            <uxap:ObjectPageSection titleUppercase="false" title="{i18n>Valuation}">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <f:SimpleForm layout="ColumnLayout"
                                          editable="{ui>/editing}"
                                          labelSpanL="12"
                                          columnsXL="4"
                                          columnsL="3"
                                          columnsM="2">
                                <f:content>
                                    <Label text="{i18n>ValuationPrice}"/>
                                    <Input value="{PRItem>/PreqPrice}"/>
                                </f:content>
                            </f:SimpleForm>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
            <uxap:ObjectPageSection titleUppercase="false" title="{i18n>AcctAss}">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <f:SimpleForm layout="ColumnLayout"
                                          editable="{ui>/editing}"
                                          labelSpanL="12"
                                          columnsXL="4"
                                          columnsL="3"
                                          columnsM="2">
                                <f:content>

                                    <Label text="{i18n>PRType}"/>
                                    <Input value="{/PrType}"/>
                                </f:content>
                            </f:SimpleForm>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
        </uxap:sections>
        <uxap:footer>
            <OverflowToolbar>
                <content>
                    <ToolbarSpacer/>
                    <Button text="{i18n>save}" type="Emphasized" press="onSavePR"/>
                    <Button text="{i18n>cancel}" type="Transparent" press="onCancelEditPR"/>
                </content>
            </OverflowToolbar>
        </uxap:footer>
    </uxap:ObjectPageLayout>
</mvc:View>